     1                                      BOOT_LOAD     equ     0x7C00 ;boot program adress
     2                                  
     3                                      ORG  BOOT_LOAD               ;load adress
     4                                  ;**********************************************
     5                                  ; Entry Point
     6                                  ;**********************************************
     7                                  
     8                                  entry:
     9                                  
    10                                    ;--------------------------------------------------
    11                                    ; BPB (BIOS Parameter Block)
    12                                    ;--------------------------------------------------
    13                                  
    14 00000000 EB58                      jmp ipl    ; jump to ipl
    15 00000002 90<rept>                  times 90 - ($ - $$) db 0x90
    16                                  
    17                                    ;--------------------------------------------------
    18                                    ; IPL(Initial Program Loader)
    19                                    ;--------------------------------------------------
    20                                  
    21                                  ipl:
    22 0000005A FA                          cli
    23                                  
    24 0000005B B80000                      mov ax, 0x0000       ; AX = 0x0000
    25 0000005E 8ED8                        mov ds, ax           ; DS = 0x0000
    26 00000060 8EC0                        mov es, ax           ; ES = 0x0000
    27 00000062 8ED0                        mov ss, ax           ; SS = 0x0000
    28 00000064 BC007C                      mov sp, BOOT_LOAD    ; SP = 0x7C00
    29                                  
    30 00000067 FB                          sti                  ; alow 
    31                                  
    32 00000068 8816[7800]                  mov [BOOT.DRIVE], dl ; save bootdrive
    33                                  
    34 0000006C B048                        mov al, 'Hello World'          ; AL = output charctor
    34          ******************       warning: character constant too long [-w+other]
    34          ******************       warning: byte data exceeds bounds [-w+number-overflow]
    35 0000006E B4FF                        mov ah, 0xFFF        ; teltype 1 char output
    35          ******************       warning: byte data exceeds bounds [-w+number-overflow]
    36 00000070 BB0000                      mov bx, 0x0000       ; page number and char color set 0
    37 00000073 CD10                        int 0x10             ; call video BIOS
    38                                  
    39                                      
    40                                    ;--------------------------------------------------
    41                                    ; End of process
    42                                    ;--------------------------------------------------
    43                                  
    44 00000075 EBFE                      jmp $           ;while(true)
    45                                  
    46 00000077 00                      ALIGN 2, db 0
    47                                  BOOT:                   ; infomation about boot drive
    48 00000078 0000                    .DRIVE: dw 0            ; number of drive
    49                                  
    50                                  
    51                                    
    52                                  ;**********************************************
    53                                  ; Boot Flag(End of Head 512 bytes)
    54                                  ;**********************************************
    55 0000007A 00<rept>                  times 510 - ($ - $$) db 0x00
    56 000001FE 55AA                      db 0x55, 0xAA
    57                                  
    58                                  
    59                                  
